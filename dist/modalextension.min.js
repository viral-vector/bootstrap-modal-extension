function ModalExtension(t){return this.props={id:t,modal:null,lastTimer:null,lastParent:null,isActive:!1,noContentText:"No content provided.",title:"",footer:!0,confirm_text:"...",confirm_callback:null,large:!1,migrate:!0,expose:null,keyboard:!1,backdrop:"static"},this.props.modal=$("#"+this.props.id),$(document).on("show.bs.modal",function(){this.props.isActive=!0}.bind(this)).on("shown.bs.modal",function(){}.bind(this)).on("hide.bs.modal",function(){this.props.isActive=!1}.bind(this)).on("hidden.bs.modal",function(){this.reset()}.bind(this)),this.listen=function(t){$(document).on("click",t,function(){this.show(this.getConfig(t))}.bind(this))},this.getConfig=function(t){return{title:$(t).data("title"),footer:$(t).data("footer"),large:$(t).data("large"),migrate:$(t).data("migrate"),content:$(t).data("content"),expose:$(t).data("expose"),keyboard:$(t).data("keyboard"),backdrop:$(t).data("backdrop"),confirm_text:$(t).data("confirm-text"),confirm_callback:$(t).data("confirm-callback")}},this.listen("[data-toggle=modalExtension]"),this}ModalExtension.prototype.execute=function(t){if("function"!=typeof t&&"object"!=typeof t){var o=new Function("return ("+t+")")();o.call()}else t.call()},ModalExtension.prototype.reset=function(t){if(this.props.modal||this.init(),this.props.lastParent&&this.props.migrate===!0){if(t&&t.expose&&""!==t.expose.trim()){var o=t.expose.trim();this.props.modal.find(o).toggleClass("hidden")}else if(this.props.expose){var o=this.props.expose;this.props.modal.find(o).toggleClass("hidden")}$(this.props.lastParent).append(this.props.modal.find(".modal-body > div > *"))}else this.props.modal.find(".modal-body").html("");return clearTimeout(this.props.lastTimer),this},ModalExtension.prototype.show=function(t){return this.replace(t),t.confirm_callback?this.props.modal.find("[data-confirm]").off().on("click",function(){this.execute(t.confirm_callback)}.bind(this)).text(t.confirm_text).show():this.props.modal.find("[data-confirm]").hide(),t.large&&t.large===!0?this.props.modal.find("modal-dialog").addClass("modal-lg"):this.props.modal.find("modal-dialog").removeClass("modal-lg"),this.open(t)},ModalExtension.prototype.replace=function(t){if(this.reset(t),this.props.migrate=t.migrate.length?t.migrate:!0,this.props.modal.find(".modal-title").html(t.title+"&nbsp;"),t.footer===!0?this.props.modal.find(".modal-footer").show():this.props.modal.find(".modal-footer").hide(),t.content=t.content?t.content:this.props.noContentText,this.props.modal.find(".modal-body").html("<div></div>"),"function"==typeof t.content||"object"==typeof t.content||"#"==t.content.charAt(0)?(this.props.lastParent=$(t.content).parent(),this.props.migrate===!0?this.props.modal.find(".modal-body > div").append($(t.content)):this.props.modal.find(".modal-body > div").html($(t.content).prop("outerHTML"))):(this.props.lastParent=null,this.props.modal.find(".modal-body > div").html(t.content)),t.expose&&""!==t.expose.trim()){var o=this.props.expose=t.expose.trim();this.props.modal.find(o).toggleClass("hidden")}return this},ModalExtension.prototype.hide=function(t){return this.props.lastTimer=setTimeout(function(){this.props.isActive===!0&&$(this.props.modal).modal("hide")}.bind(this),t.delay?t.delay:0),this},ModalExtension.prototype.open=function(t){var o={show:!0,backdrop:t.backdrop?t.backdrop:this.props.backdrop,keyboard:t.keyboard?t.keyboard:this.props.keyboard};return $(this.props.modal).modal(o),this};